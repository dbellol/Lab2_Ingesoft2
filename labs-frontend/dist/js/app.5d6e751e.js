(function(e){function t(t){for(var a,n,l=t[0],i=t[1],c=t[2],m=0,d=[];m<l.length;m++)n=l[m],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],a=!0,l=1;l<s.length;l++){var i=s[l];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},o=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"394d":function(e,t,s){"use strict";s("e6e4")},4038:function(e,t,s){"use strict";s("d3da")},"501c":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],n=s("2877"),l={},i=Object(n["a"])(l,r,o,!1,null,null,null),c=i.exports,u=s("8c4f"),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2"},[t("div",{staticClass:"mt-5",attrs:{id:"signUp"}},[t("form",{staticClass:"border border-primary rounded form-inline",on:{submit:e.signUp}},[t("h2",{staticClass:"col-12 text-center text-primary mt-3 mb-5"},[e._v("Registro")]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3",attrs:{for:"names"}},[e._v("Nombres")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.names,expression:"names"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"names",type:"text",placeholder:"Nombres",required:""},domProps:{value:e.names},on:{input:function(t){t.target.composing||(e.names=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"surnames"}},[e._v("Apellidos")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.surnames,expression:"surnames"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"surnames",type:"text",placeholder:"Apellidos",required:""},domProps:{value:e.surnames},on:{input:function(t){t.target.composing||(e.surnames=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3",attrs:{for:"username"}},[e._v("Nombre de Usuario")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"username",type:"text",placeholder:"Nombre de Usuario",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"password"}},[e._v("Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"password",type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"cPassword"}},[e._v("Confirmar Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.cPassword,expression:"cPassword"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",class:{"is-invalid":""!==e.cPassword&&e.cPassword!==e.password,"is-valid":""!==e.cPassword&&e.cPassword===e.password},attrs:{id:"cPassword",type:"password",placeholder:"Confirmar Contraseña",required:""},domProps:{value:e.cPassword},on:{input:function(t){t.target.composing||(e.cPassword=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"rol"}},[e._v("Tipo de Usuario")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"rol",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione un Rol --")]),e._l(e.roles,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.roleName))])}))],2)]),t("div",{staticClass:"col-12 col-sm-6 col-md-5 offset-md-2 text-center mb-3"},[t("span",{staticClass:"text-primary"},[t("small",[t("router-link",{attrs:{to:{name:"login"}}},[e._v("¿Ya tienes cuenta? Inicia Sesión")])],1)])]),e._m(0)])])])])])},d=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 col-sm-5 col-md-4 mb-3"},[t("button",{staticClass:"col-sm-10 col-md-10 offset-sm-1 offset-md-2 btn btn-primary",attrs:{type:"submit"}},[e._v(" Registrar ")])])}],p=s("bc3a"),f=s.n(p);const v="/registro/nuevo-usuario/rol/";var b={name:"SignUp",data(){return{names:"",surnames:"",username:"",password:"",cPassword:"",role:"",roles:[],response:null}},beforeCreate(){const e="/roles";f.a.get(this.$store.state.backURL+e).then(e=>{200!==e.status?alert("Error en la petición. Intente nuevamente"):this.roles=e.data}).catch(e=>{alert("No es posible conectar con el backend en este momento",e)})},methods:{signUp(e){if(this.password===this.cPassword)return f.a.post(this.$store.state.backURL+v+this.role,{names:this.names.trim(),surnames:this.surnames.trim(),username:this.username.trim(),password:this.password}).then(e=>{201!==e.status?alert("Error en el almacenamiento del usuario"):alert("Usuario registrado correctamente")}).catch(e=>{400===e.response.status?alert('Parece que ya existe un usuario con el nombre de usuario "'+this.username+'"'):alert("Error en la aplicación")}),e.preventDefault(),!0;e.preventDefault()}}},h=b,g=(s("a8d5"),Object(n["a"])(h,m,d,!1,null,"6621e346",null)),C=g.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2"},[t("div",{staticClass:"mt-5"},[t("form",{staticClass:"border border-primary rounded form-inline",on:{submit:e.login}},[t("h2",{staticClass:"col-12 text-center text-primary mt-3 mb-5"},[e._v("Iniciar Sesión")]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3",attrs:{for:"username"}},[e._v("Nombre de Usuario")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"username",type:"text",placeholder:"Nombres",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3",attrs:{for:"password"}},[e._v("Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"password",type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"col-12 col-sm-6 col-md-5 offset-md-2 text-center mb-3"},[t("span",{staticClass:"text-primary"},[t("small",[t("router-link",{attrs:{to:{name:"signup"}}},[e._v("¿No tienes una cuenta? ¡Registrate!")])],1)])]),e._m(0)])])])])])},w=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 col-sm-5 col-md-4 mb-3"},[t("button",{staticClass:"col-sm-10 col-md-10 offset-sm-1 offset-md-2 btn btn-primary",attrs:{type:"submit"}},[e._v(" Iniciar Sesión ")])])}];const y="token-ingesoft";function x(){return localStorage.getItem(y)}function P(e=""){return localStorage.setItem(y,e)}const N="/oauth/token";var S={name:"Login.vue",components:{},data(){return{username:"",password:""}},methods:{login(e){f.a.post(this.$store.state.backURL+N,{},{headers:{"Content-Type":"application/json"},params:{username:this.username,password:this.password,grant_type:"password"},auth:{username:"soft-eng-ii",password:"secret"}}).then(e=>{200!==e.status?alert("Error en la autenticación"):(P(e.data.access_token),this.$router.push({name:"home"}))}).catch(e=>{400===e.response.status?alert("Credenciales incorrectas"):alert("¡Parece que hubo un error de comunicación con el servidor!")}),e.preventDefault()}}},k=S,R=(s("4038"),Object(n["a"])(k,_,w,!1,null,"d3055c92",null)),O=R.exports,U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container-fluid mt-2"},[t("h2",[e._v("Estudiantes")]),e._m(0),t("router-view")],1)},j=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex"},[t("a",{staticClass:"btn btn-primary",staticStyle:{margin:"5px"},attrs:{type:"button",href:"/principal"}},[e._v("PRINCIPAL")]),t("a",{staticClass:"btn btn-primary",staticStyle:{margin:"5px"},attrs:{type:"button",href:"/mis-cursos"}},[e._v("VER MIS CURSOS")]),t("a",{staticClass:"btn btn-primary",staticStyle:{margin:"5px"},attrs:{type:"button",href:"/principal/mis-roles"}},[e._v("VER MIS ROLES")]),t("a",{staticClass:"btn btn-primary",staticStyle:{margin:"5px"},attrs:{type:"button",href:"/principal/nuevo-rol"}},[e._v("NUEVO ROL")]),t("a",{staticClass:"btn btn-danger",staticStyle:{margin:"5px"},attrs:{type:"button",href:"/"}},[e._v(" SALIR ")])])}],I={name:"Home",beforeCreate(){x()||this.$router.push({name:"login"})}},E=I,q=Object(n["a"])(E,U,j,!1,null,null,null),L=q.exports,A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 col-sm-10 col-md-8 offset-sm-1 offset-md-2"},[t("div",{staticClass:"mt-5"},[t("form",{staticClass:"border border-primary rounded form-inline",on:{submit:e.associate}},[t("h2",{staticClass:"col-12 text-center text-primary mt-3 mb-5"},[e._v("Asocie su usuario con un nuevo rol")]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3",attrs:{for:"password"}},[e._v("Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"password",type:"password",placeholder:"Contraseña",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),t("div",{staticClass:"form-group col-12"},[t("label",{staticClass:"custom-label col-md-3 display",attrs:{for:"rol"}},[e._v("Tipo de Usuario")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-control col-12 col-sm-10 col-md-7 offset-sm-1",attrs:{id:"rol",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("-- Seleccione un Rol --")]),e._l(e.roles,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.roleName))])}))],2)]),e._m(0)])])])},$=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 mb-3"},[t("button",{staticClass:"col-sm-6 col-md-4 offset-sm-5 offset-md-7 btn btn-primary",attrs:{type:"submit"}},[e._v(" Asociar Rol ")])])}],M={name:"AddRole",data(){return{password:"",role:"",roles:[]}},beforeCreate(){const e="/roles";f.a.get(this.$store.state.backURL+e).then(e=>{200!==e.status?alert("Error en la petición. Intente nuevamente"):this.roles=e.data}).catch(e=>{alert("No es posible conectar con el backend en este momento",e)})},methods:{associate(e){f.a.post(this.buildURI(),{password:this.password},{params:{access_token:localStorage.getItem("token")}}).then(e=>{201!==e.status?alert("Error en la petición. Intente nuevamente"):alert("Se ha asignado exitosamente el nuevo rol")}).catch(e=>{401===e.response.status?alert("¡Ups! Al parecer tu contraseña es incorrecta o la sesión ha finalizado"):400===e.response.status?alert("¿Estás seguro de que aún no tienes ese rol asignado?"):alert("No es posible conectar con el backend en este momento",e)}),e.preventDefault()},buildURI(){let e="/registro/nuevo-rol/";return this.$store.state.backURL+e+this.role}}},T=M,D=(s("9a4a"),Object(n["a"])(T,A,$,!1,null,"6cb48dca",null)),V=D.exports,H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},e._l(e.enrollments,(function(e){return t("Course",{key:e.courseId+"-"+e.role.id,attrs:{enrolled:e}})})),1)},J=[],z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-content-center align-items-center h-100"},[t("div",{staticClass:"col-12 col-md-6 col-lg-4 text-center"},[t("h1",[t("b",[e._v("Nombre Curso:")]),e._v(e._s(e.enrolled.courseName))]),t("h3",[e._v(e._s(e.enrolled.courseDurationHours))]),t("h6",[e._v(e._s(e.enrolled.role.roleName))])])])},Y=[],B={name:"Course",props:{enrolled:Object}},F=B,G=(s("394d"),Object(n["a"])(F,z,Y,!1,null,"7cfabb52",null)),K=G.exports;const Q="/mis-cursos";var W={name:"Courses",components:{Course:K},data(){return{enrollments:[]}},beforeCreate(){f.a.get(this.$store.state.backURL+Q,{params:{access_token:x()}}).then(e=>{200!==e.status?alert("Error en la respuesta del servidor"):this.enrollments=e.data}).catch(e=>{alert("Error con la conexión al servidor")})}},X=W,Z=Object(n["a"])(X,H,J,!1,null,"3ba7442b",null),ee=Z.exports,te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-12 text-center"},e._l(e.roles,(function(s){return t("div",{key:s.id},[t("h1",[e._v("Sus roles son los siguientes: "+e._s(s.roleName))])])})),0)},se=[];const ae="/mis-roles";var re={name:"Roles",data(){return{roles:[{id:1,roleName:"My Role"}]}},beforeCreate(){f.a.get(this.$store.state.backURL+ae,{params:{access_token:x()}}).then(e=>{200!==e.status?alert("Error Obteniendo sus roles"):this.roles=e.data}).catch(e=>{alert("Error en la petición"),console.log(e)})}},oe=re,ne=Object(n["a"])(oe,te,se,!1,null,"29ae2da8",null),le=ne.exports;a["a"].use(u["a"]);var ie=new u["a"]({mode:"history",base:"/",routes:[{path:"/registro",name:"signup",component:C},{path:"/",alias:"/iniciar-sesion",name:"login",component:O},{path:"/mis-cursos",name:"courses",component:ee},{path:"/principal",name:"home",component:L,children:[{path:"nuevo-rol",name:"add-role",component:V},{path:"roles",name:"roles",component:le}]}]}),ce=s("2f62");a["a"].use(ce["a"]);var ue=new ce["a"].Store({state:{backURL:"http://localhost:8080"},mutations:{},actions:{}});a["a"].config.productionTip=!1,new a["a"]({router:ie,store:ue,render:function(e){return e(c)}}).$mount("#app")},8900:function(e,t,s){},"9a4a":function(e,t,s){"use strict";s("501c")},a8d5:function(e,t,s){"use strict";s("8900")},d3da:function(e,t,s){},e6e4:function(e,t,s){}});
//# sourceMappingURL=app.5d6e751e.js.map